---
outline: deep
---

# 光照与阴影

## 光照

### 准备工作

把`Main Light`节点隐藏，新建一个3D球体

### 环境光

点击场景，调整环境光(Ambient)属性

- 上半球光: 可以修改颜色，比如改成`#6B79A0`
- 环境光强度：0~20000，越大越亮
- 下半球光: 可以修改颜色，比如改成`#3F3728`

### 光源

#### 方向光

游戏里一般模拟太阳光，就是方向光，本次主要演示方向光

#### 球形光

如灯泡，路灯

#### 聚光灯

如手电筒

#### 方向光属性学习

Main Light节点打开，为了演示效果，可以把环境光强度改为0看效果

- 光源颜色：修改颜色，比如改成`#FFF4D6`

- 光源强度：越大越亮，比如改成`120000`

## 阴影

### 场景中开启阴影

在场景节点中，找到阴影属性，步骤如下

1. 开启阴影，勾选开启
2. 修改阴影效果，比如shadowMap
3. 修改阴影贴图分辨率，比如2048

此时发现还是没有阴影，因为场景中可能存在多个光源，每个光源都有可能产生阴影，为了性能，默认光源是不产生阴影的，需要手动开启

### 光源中开启阴影

找到MainLight属性面板

1. 开启实时阴影，勾选
2. 选择shadow Pcf，如soft2X，决定阴影边缘的柔和度。

但还是没有看到阴影，默认情况下一个对象是不会产生阴影的，因为一个场景中会有非常多的模型，有些模型是不需要阴影的，比如体积很小的，为了性能，所以要手动开启对象阴影

### 对象开启阴影

对象动态阴影设置中，开启投射阴影



